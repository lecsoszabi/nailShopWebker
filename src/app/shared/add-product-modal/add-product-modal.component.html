<dialog #productDialog class="product-modal">
  <h3 class="modal-title">Új termék hozzáadása</h3>
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()" class="modal-form">
    <div class="form-group">
      <label for="name" class="form-label">Termék neve:</label>
      <input id="name" type="text" formControlName="name" class="form-control"
             [ngClass]="{ 'input-error': productForm.get('name')?.invalid && productForm.get('name')?.touched }">
      <div *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched" class="error-message">
        A termék neve kötelező.
      </div>
    </div>

    <div class="form-group">
      <label for="price" class="form-label">Ár (Ft):</label>
      <input id="price" type="number" formControlName="price" class="form-control"
             [ngClass]="{ 'input-error': productForm.get('price')?.invalid && productForm.get('price')?.touched }">
      <div *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched" class="error-message">
        <span *ngIf="productForm.get('price')?.errors?.['required']">Az ár kötelező.</span>
        <span *ngIf="productForm.get('price')?.errors?.['min']">Az ár nem lehet negatív.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="color" class="form-label">Szín (opcionális):</label>
      <input id="color" type="text" formControlName="color" class="form-control">
    </div>

    <div class="form-group">
      <label for="length" class="form-label">Hossz (opcionális, pl. mm):</label>
      <input id="length" type="number" formControlName="length" class="form-control"
             [ngClass]="{ 'input-error': productForm.get('length')?.invalid && productForm.get('length')?.touched }">
      <div *ngIf="productForm.get('length')?.invalid && productForm.get('length')?.touched" class="error-message">
        A hossz nem lehet negatív.
      </div>
    </div>

    <div class="form-group">
      <label for="description" class="form-label">Leírás (opcionális):</label>
      <textarea id="description" formControlName="description" class="form-control" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label for="imageUrl" class="form-label">Kép URL (opcionális):</label>
      <input id="imageUrl" type="text" formControlName="imageUrl" class="form-control">
    </div>

    <div class="form-group">
      <label for="stock" class="form-label">Készlet (opcionális):</label>
      <input id="stock" type="number" formControlName="stock" class="form-control"
             [ngClass]="{ 'input-error': productForm.get('stock')?.invalid && productForm.get('stock')?.touched }">
      <div *ngIf="productForm.get('stock')?.invalid && productForm.get('stock')?.touched" class="error-message">
        A készlet nem lehet negatív.
      </div>
    </div>

    <div class="modal-actions">
      <button type="button" (click)="closeModal()" class="button-secondary">Mégse</button>
      <button type="submit" [disabled]="productForm.invalid" class="button-primary">Mentés</button>
    </div>
  </form>
</dialog>
